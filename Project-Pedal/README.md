# Универсальная музыкальная педаль

## Разработчики

Студенты 4го курса бакалавриата МФТИ

* Гончаров Марк Александрович
* Кузнецова Маргарита Витальевна

## Описание продукта

* Детальное описание вы можете посмотреть в [документации](Description.pdf).
* Использование продукта представлено в [видео](https://disk.yandex.ru/i/_qlnVe1XMdRhBA).

Данную педаль можно использовать в различных целях, таких как:

1. Сустейн для синтезатора
2. Генератор инструментального фона для стерео системы
3. Контроль вывода звука в систему
4. Контроль работы компьютера 

А также одновременное комбинирование данных функций.

## Внутреннее устройство

![](back.jpg)

1. Тумблер для вывода звука в стерео-систему
2. Тумблер для обработки нажатия педали для вывода в "Ардуино"
3. Тумблер для обработки нажатия педали для вывода в синтезатор
4. USB 2.0 вход для подключения к внутреннему Arduino UNO
* Порт 8 - input - приём состояния нажатия кнопки
* Порт 10 - output - вывод в стерео-систему
5. Джек 6.3 - подключение к синтезатору
6. Джек 6.3 - подключение к стерео-системе
7. Формат работы тумблеров

### Использование продукта

| Функция | 1 - Стерео система | 2 - Ардуино | 3 - Синтезатор | Описание работы
|----------|----------|----------|----------|----------|
| Сустейн | OFF | OFF | ON | Для тех, кто любит заниматься каверами (перепевками известных хитов) или классическими произведениями. Сустейн (англ. Sustain) — продолжительность звучания извлечённого звука. То есть суйстен-педаль позволяет продливать звук на время включения у синтезаторов и MIDI-клавиатур, создавая гармоничную мелодию. |
| Компьютер | OFF | ON | OFF | Использование контроллера Arduino Leonardo позволяет исполнять на компьютере написанные программы, эмулировать нажатия на сочетание клавиш или клик мыши (например, пробел, Ctrl+V), тем самым взаимодействуя с уже написанным программным обеспечением популярных приложений. | 
| Стерео-система | ON |OFF | OFF | Для сольных исполнителей, кому необходимо заполнение мелодией, наличие фона. Позволяет выводить напрямую на внешнюю аудио-систему запрограммированную в Arduino программу. Таким образом, можно с использованием сторонних приложений или библиотек Arduino подавать частоты/ноты напрямую в воспроизводящее устройство/наушники. | 
| Бас-педаль | ON | ON | OFF | Для тех, кому необходимо чувствовать ритм, басс. Сольным исполнителям, для контролирования звука посредством нажатия педали. |
| Фон синтезатора  | ON | OFF | ON | Возможность использовать педаль одновременно как сустейн для синтезатора и генератора фоновой музыки. Полезно, если синтезатор умеет воспроизводить лишь заданный на заводе набор фоновой музыки, а душа рвётся в полёт! |

## Процесс изготовления:

##### Вам понадобятся:
* Arduino (любой, но для контроля компьютера лучше Leonardo)
* Фанера 3мм
* Соединительные провода
* 3 тумблера
* Небольшая макетная плата
* Кнопка
* Два разъёма 6.3M-6.3M
* Клей по дереву
* Время

##### Последовательность действий
* Скачать [STL корпуса](Pedal_v2.STL)
* Вырезать по красным линиям любым удобным способом. В нашем проекте, использовалась лазерная резка.
* Не забудь сделать красивые гравировки на крышке и по бокам!
* Просверлить отверстия под кнопку и вкрутить её.
* Склеить корпус кроме верхней и боковой крышки для более удобной конфигурации проводов. ВАЖНО: провода от кнопки необходимо вытащить в главный ящик - больше возможности её конфигурации не будет
* Скачать [язычок педали](tube_v2.STL) и напечатать на 3D принетере, используя любой понравившийся цвет
* Склеить вращающий элемент с крышкой согласно рисункам
* Вставить ардуино, звуковые переходники, не забыдь записать пины для звука и кнопки в ардуино.
* Вставить тумблеры, заранее все контакты изолировать, при необходимости контакты припаять.
* Соединить провода как показано на схемах в [документации](Description.pdf)
* Доклеить корпус
* Наслаждаться функционалом инструмента!

## Внутреннее устройство

![](inside.jpg)
![](inside2.jpg)

## Аналоги в интернете

Рассмотрим как коммерческие, так и открытые решения в данной отрасле. Кратко опишем о них и об отличиях, которые имеет наш продукт

| Аналог | Описание | Чем мы вдохновились | Что не соответствует проекту |
|----------|----------|----------|----------|
| [Arduino PedalSHIELD](https://radioprog.ru/post/533) | Каскадный усилитель для аналогового преобразования звука | Разработка собственной платы. Мы пытались, но не успели сделать фузз - перегрузку для гитарного звука | Отдельный инструмент только для гитары и только для преобразования. Мы же хотим универсальность и работу с другими устройствами | 
| [Сустейн педаль из степлера](https://www.youtube.com/watch?v=SX23sVJ2JIU&t=1s) | Простейшая педаль | Процесс изготовления | Слишком простой, однозадачный и довольно большой | 
| [Педаль для взаимодействия с аудио-системой Stagg SSWB1](https://pop-music.ru/products/nojnoy-pereklyuchatel-stagg-sswb1-888880011037/) | Позволяет взаимодействовать с аудио-системой посредством частот, программ | Сделали аналогичный контроль звука через ардуино | Мы убрали компьютер как обязательный посредник, соединили с одновременной возможностью взаимодействия и с пианино | 
| [Ножной переключатель KG120L11](https://amitron-ek.ru/catalog/4238/133271.html) | Позволяет исполнять программы или просто действия на компьютере | Взаимодействие посредством USB | Дорого, основную функциональность уже имеет Arduino версии Leonardo и выше, поэтому за редким исключением нет смысла использовать столь умную технику | 


## Фотографии стадий разработки

![](old4.jpg)
![](old3.jpg)
![](old2.jpg)
![](old1.jpg)

